# MS Project1 

## ê¸ˆìœµìƒí’ˆ ì¶”ì²œ ì‹œìŠ¤í…œ.

# ğŸ’° ì†Œë¹„ ë°ì´í„° ê¸°ë°˜ ê¸ˆìœµìƒí’ˆ ì¶”ì²œ ì‹œìŠ¤í…œ

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ì†Œë¹„ì ì†Œë¹„ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê°œì¸ ë§ì¶¤í˜• ê¸ˆìœµìƒí’ˆì„ ì¶”ì²œí•˜ëŠ” AI ê¸°ë°˜ ì‹œìŠ¤í…œ**ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.  
**Databricks, PySpark, MLflow, Git** ê¸°ë°˜ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬ì™€ í˜‘ì—…ì„ êµ¬ì¡°í™”í•˜ë©°, ë³´ì•ˆê³¼ ì‹¤í—˜ ì¬í˜„ì„±ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.

---
## Databricksì—ì„œ raw-data ì ‘ê·¼ ê²½ë¡œ(ê°€ìƒê²½ë¡œ)
  * /mnt/raw-data/[í´ë”ëª…]/[íŒŒì¼ì´ë¦„].csv

## ğŸ“ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ì„¤ëª… ë° ë³´ì•ˆ ê°€ì´ë“œ


### Gitì˜ ì „ì²´ ê°œìš”
#### ğŸ“ financial-product-recommender/

â”œâ”€â”€ ğŸ“„ README.md                  # í”„ë¡œì íŠ¸ ê°œìš” ë° ì‹¤í–‰ ë°©ë²• ì•ˆë‚´  
â”œâ”€â”€ ğŸ“„ .gitignore                 # Git ì¶”ì ì—ì„œ ì œì™¸í•  íŒŒì¼ ë° í´ë” ëª©ë¡  
â”œâ”€â”€ ğŸ“„ requirements.txt           # ë¡œì»¬ í™˜ê²½ì„ ìœ„í•œ Python íŒ¨í‚¤ì§€ ëª©ë¡  

â”œâ”€â”€ ğŸ“ data/                      # ë°ì´í„° ë””ë ‰í† ë¦¬  
â”‚   â”œâ”€â”€ ğŸ“ raw/                   # ì›ë³¸ ë°ì´í„° (Gitì— í¬í•¨ë˜ì§€ ì•ŠìŒ)  
â”‚   â””â”€â”€ ğŸ“ processed/             # ì „ì²˜ë¦¬ëœ ë°ì´í„° íŒŒì¼  

â”œâ”€â”€ ğŸ“ notebooks/                 # Databricks ë…¸íŠ¸ë¶ ìŠ¤í¬ë¦½íŠ¸  
â”‚   â”œâ”€â”€ 01_data_preprocessing.py     # ë°ì´í„° ì „ì²˜ë¦¬  
â”‚   â”œâ”€â”€ 02_feature_engineering.py    # íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§  
â”‚   â”œâ”€â”€ 03_model_training.py         # ëª¨ë¸ í•™ìŠµ  
â”‚   â””â”€â”€ 04_model_evaluation.py       # ëª¨ë¸ í‰ê°€  

â”œâ”€â”€ ğŸ“ src/                       # í•µì‹¬ ëª¨ë“ˆ (íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸)  
â”‚   â”œâ”€â”€ data_loader.py             # ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë° ì¤€ë¹„ í•¨ìˆ˜  
â”‚   â”œâ”€â”€ recommender.py             # ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ë¡œì§  
â”‚   â””â”€â”€ utils.py                   # ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜  

â”œâ”€â”€ ğŸ“ experiments/               # ì‹¤í—˜ ê²°ê³¼ ë° ì„¤ì • ì €ì¥  
â”‚   â”œâ”€â”€ v1_basic_model/            # ê¸°ë³¸ ì¶”ì²œ ëª¨ë¸ ì‹¤í—˜  
â”‚   â””â”€â”€ v2_improved_model/         # ê°œì„ ëœ ëª¨ë¸ ì‹¤í—˜  

â””â”€â”€ ğŸ“ reports/                   # ë¶„ì„ ë³´ê³ ì„œ ë° ì‹œê°í™”  
    â””â”€â”€ ğŸ“ figures/                # ê·¸ë˜í”„ ë° ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤


---

### ğŸ“¦ 1. `data/` â€” **ë°ì´í„° ë””ë ‰í† ë¦¬**

- `raw/`:  
  - ì›ë³¸ ë°ì´í„° ì €ì¥.  
  - ë¯¼ê° ì •ë³´(PII, ê¸ˆìœµê±°ë˜ë‚´ì—­ í¬í•¨)ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ **ì ˆëŒ€ Gitì— ì»¤ë°‹ ê¸ˆì§€**.  
  - `*.csv`, `*.json`, `*.parquet` íŒŒì¼ì€ `.gitignore`ì— ë°˜ë“œì‹œ í¬í•¨.

- `processed/`:  
  - ì „ì²˜ë¦¬ í›„ ë°ì´í„° ì €ì¥. ë¶„ì„ì— í™œìš©í•  ìˆ˜ ìˆì§€ë§Œ ì—¬ì „íˆ ê°œì¸ì •ë³´ ìœ„í—˜ ì¡´ì¬.

#### ğŸ”’ ë°ì´í„° ë³´ì•ˆ ê°€ì´ë“œ

> ì°¸ê³ : [Databricks Data Governance Guide](https://docs.databricks.com/data-governance/index.html), [Google Cloud Data Privacy](https://cloud.google.com/security/privacy)

- ëª¨ë“  ë°ì´í„°ì—ëŠ” ë‹¤ìŒ ê·œì¹™ ì ìš©:
  - âœ… ë¯¼ê° í•„ë“œ(`name`, `email`, `SSN`, `card_number`)ëŠ” **í•´ì‹œ ë˜ëŠ” ìµëª…í™” ì²˜ë¦¬**  
  - âœ… API í‚¤ ë˜ëŠ” ì¸ì¦ í† í°ì€ ì½”ë“œì— í•˜ë“œì½”ë”©í•˜ì§€ ë§ê³  `.env` ë˜ëŠ” Key Vault ì‚¬ìš©
  - âœ… `data/` ë‚´ ëª¨ë“  ë°ì´í„°ëŠ” S3, Azure Blob ë“± **ê¶Œí•œ ê¸°ë°˜ ì €ì¥ì†Œ**ë¡œ ì´ì „ ê¶Œì¥

---

### ğŸ““ 2. `notebooks/` â€” **ë¶„ì„ ë° ê°œë°œ ë…¸íŠ¸ë¶ (Databricks ê¸°ë°˜)**

- ê° ë‹¨ê³„ë³„ ì‘ì—… íë¦„ì„ Python ìŠ¤í¬ë¦½íŠ¸ í˜•íƒœë¡œ ì •ë¦¬:
  - `01_data_preprocessing.py`: ê²°ì¸¡ì¹˜ ì²˜ë¦¬, ì´ìƒì¹˜ íƒì§€, ë¡œê·¸ ë³€í™˜ ë“±
  - `02_feature_engineering.py`: ë²”ì£¼í˜• ì¸ì½”ë”©, ì‚¬ìš©ì ì„¸ê·¸ë©˜íŠ¸ ìƒì„±
  - `03_model_training.py`: ì¶”ì²œ ëª¨ë¸ í•™ìŠµ (ì˜ˆ: ìœ ì‚¬ë„ ê¸°ë°˜, matrix factorization ë“±)
  - `04_model_evaluation.py`: ì„±ëŠ¥ í‰ê°€ ë° confusion matrix, ROC ì‹œê°í™” ë“±

#### ğŸ’¡ ì‹¤ë¬´ íŒ

- ì‹¤í—˜ ì¬í˜„ì„ ìœ„í•´ **MLflowë¡œ ì‹¤í—˜ ë¡œê·¸ ìë™ ê¸°ë¡**
- ëª¨ë¸ ì½”ë“œì—ëŠ” `random_seed`, `train/test split` ê³ ì • í¬í•¨ í•„ìˆ˜

---

### ğŸ§  3. `src/` â€” **í•µì‹¬ ëª¨ë“ˆ ì½”ë“œ**

- `data_loader.py`: ë°ì´í„° ë¡œë”© í•¨ìˆ˜ (S3, Blob, Delta Lake ë“±ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°)
- `recommender.py`: ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ì •ì˜ (ì½˜í…ì¸  ê¸°ë°˜, í˜‘ì—… í•„í„°ë§ ë“±)
- `utils.py`: ê³µí†µ í•¨ìˆ˜, ë¡œê¹…, ì‹œë“œ ê³ ì • ë“± ìœ í‹¸ë¦¬í‹°

#### ğŸ“Œ ëª¨ë“ˆí™” ì´ìœ 

- ëª¨ë¸ ê°œì„ , ì‹¤í—˜ ì¬í˜„, í˜‘ì—… ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ **ëª¨ë“ˆí™” êµ¬ì¡° í•„ìˆ˜**
- ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì€ ì•Œê³ ë¦¬ì¦˜ ìœ í˜•ë³„ë¡œ **ì „ëµ íŒ¨í„´ ë˜ëŠ” í´ë˜ìŠ¤í™”** ê¶Œì¥

---

### ğŸ§ª 4. `experiments/` â€” **ëª¨ë¸ ì‹¤í—˜ ê²°ê³¼ ë° ë²„ì „ ê´€ë¦¬**

- `v1_basic_model/`: ì²« ë²ˆì§¸ ì‹¤í—˜ ê²°ê³¼ ì €ì¥ì†Œ
- `v2_improved_model/`: í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ë° ê°œì„ ëœ ì•Œê³ ë¦¬ì¦˜ ê¸°ë¡

#### ğŸ§­ ì‹¤í—˜ ê´€ë¦¬ íŒ

> ì°¸ê³ : [MLflow Tracking Guide](https://mlflow.org/docs/latest/tracking.html)

- ê° ì‹¤í—˜ ë””ë ‰í† ë¦¬ì—ëŠ” ë‹¤ìŒ í¬í•¨:
  - í•™ìŠµ íŒŒë¼ë¯¸í„° (`params.json`)
  - ì„±ëŠ¥ ì§€í‘œ (`metrics.json`)
  - ëª¨ë¸ íŒŒì¼ (`model.pkl` or `MLflow URI`)
  - ì—ëŸ¬ ë¡œê·¸ (`train.log`)

---

### ğŸ“Š 5. `reports/` â€” **ë³´ê³ ì„œ ë° ì‹œê°í™” ìë£Œ**

- ë°œí‘œìš© ìë£Œ ë° ì¤‘ê°„ ë³´ê³ ì„œ ì €ì¥
- `figures/`: matplotlib, seaborn, plotly ë“± ì‹œê°í™” ê²°ê³¼ ì €ì¥

#### âœ… ì‹¤ë¬´ìš© ë³´ê³ ì„œ íŒ

- ì¤‘ê°„ ê²°ê³¼ëŠ” `.ipynb`ë¥¼ HTML ë˜ëŠ” PDFë¡œ ë³€í™˜í•´ `reports/`ì— ì €ì¥
- ë°œí‘œìë£ŒëŠ” **ë²„ì „ ê´€ë¦¬** ë° ë°œí‘œìë³„ ë³€ê²½ ì´ë ¥ ëª…ì‹œ

---

### ğŸ’¡ Git commit ì»¨ë²¤ì…˜ ì„¤ì •ë²•
- [ë§í¬ì°¸ì¡°](https://velog.io/@shin6403/Git-git-%EC%BB%A4%EB%B0%8B-%EC%BB%A8%EB%B2%A4%EC%85%98-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0)
í•˜ì—¬ commit ë©”ì‹œì§€ ì‘ì„±

## ğŸ” Git ë³´ì•ˆ êµ¬ì„± (`.gitignore`)

> ì‹¤ì œ ì‚¬ê³  ì‚¬ë¡€: AWS í‚¤ ìœ ì¶œë¡œ ì¸í•´ ìˆ˜ì²œ ë‹¬ëŸ¬ ì†í•´ ([Source: GitGuardian](https://www.gitguardian.com/blog/top-10-secrets-leaked-on-github-in-2022))

> [How_to_set_gitignore](https://sanghee01.tistory.com/107)

#### `.gitignore`ì—ëŠ” ë‹¤ìŒ í•­ëª© ë°˜ë“œì‹œ í¬í•¨:
1. DATA
    /data/raw/
    /data/processed/
    /reports/.html
    /reports/.pdf

2. í™˜ê²½ì„¤ì •
    .env
    pycache/

3. DataBricks METADATA
    .dbx
